{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fifin\\\\Desktop\\\\Curs IT School\\\\sesiunea 33\\\\app\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext, useReducer } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport { Link } from \"react-router-dom\";\nimport { CartContext } from \"../store/Cart/context\";\nimport { addToCart } from \"../store/Cart/actions\";\nimport { cartReducer, initialState } from \"../store/Cart/reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Home() {\n  _s();\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  // Cerem 4 produse de la API si actualizam state-ul.\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    fetch(\"https://www.cheapshark.com/api/1.0/deals?onSale&pageSize=4\").then(response => response.json()).then(products => {\n      console.log(\"Produsele: \", products);\n      setProducts(products);\n    });\n  }, []);\n  const contextValue = useContext(CartContext);\n  // console.log(contextValue);\n\n  function handleAddToCartClick(product) {\n    const actionResult = addToCart(product);\n    console.log(\"action result\", actionResult);\n    dispatch(actionResult);\n  }\n  // Afisam pe ecran produsele venite de la API.\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-column align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Numarul de produse din cos este: \", state.products.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), products.map(product => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: \"18rem\"\n          },\n          className: \"m-3\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/product/${encodeURI(product.dealID)}`,\n            className: \"text-dark\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              variant: \"top\",\n              src: product.thumb\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: product.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                className: \"text-danger\",\n                children: [product.salePrice, \" $\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: () => {\n              handleAddToCartClick({\n                id: product.dealID,\n                image: product.thumb,\n                name: product.title,\n                price: product.salePrice,\n                retailPrice: product.retailPrice\n              });\n            },\n            children: \"Adaug\\u0103 \\xEEn co\\u0219\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this)]\n        }, product.dealID, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/products\",\n      children: \"Vezi toate produsele\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"7CEulZqKOi5mgIaKf9lvRG0hKI0=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","useContext","useReducer","Card","Button","Link","CartContext","addToCart","cartReducer","initialState","Home","state","dispatch","products","setProducts","fetch","then","response","json","console","log","contextValue","handleAddToCartClick","product","actionResult","length","map","width","encodeURI","dealID","thumb","title","salePrice","id","image","name","price","retailPrice"],"sources":["C:/Users/fifin/Desktop/Curs IT School/sesiunea 33/app/src/pages/Home.js"],"sourcesContent":["import { useEffect, useState, useContext, useReducer } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport { Link } from \"react-router-dom\";\nimport { CartContext } from \"../store/Cart/context\";\nimport { addToCart } from \"../store/Cart/actions\";\nimport { cartReducer, initialState } from \"../store/Cart/reducer\";\n\nexport function Home() {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  // Cerem 4 produse de la API si actualizam state-ul.\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    fetch(\"https://www.cheapshark.com/api/1.0/deals?onSale&pageSize=4\")\n      .then((response) => response.json())\n      .then((products) => {\n        console.log(\"Produsele: \", products);\n\n        setProducts(products);\n      });\n  }, []);\n\n  const contextValue = useContext(CartContext);\n  // console.log(contextValue);\n\n  function handleAddToCartClick(product) {\n    const actionResult = addToCart(product);\n\n    console.log(\"action result\", actionResult);\n    dispatch(actionResult);\n  }\n  // Afisam pe ecran produsele venite de la API.\n  return (\n    <div>\n      <div className=\"d-flex flex-column align-items-center\">\n        <p>Numarul de produse din cos este: {state.products.length}</p>\n        {products.map((product) => {\n          return (\n            <Card\n              key={product.dealID}\n              style={{ width: \"18rem\" }}\n              className=\"m-3\"\n            >\n              {/* Fiecare card are link-ul corespunzator catre pagina de produs. */}\n              {/* Functia encodeURI transforma caracterele care nu sunt acceptate in url. */}\n              <Link\n                to={`/product/${encodeURI(product.dealID)}`}\n                className=\"text-dark\"\n              >\n                <Card.Img variant=\"top\" src={product.thumb} />\n                <Card.Body>\n                  <Card.Title>{product.title}</Card.Title>\n                  <Card.Text className=\"text-danger\">\n                    {product.salePrice} $\n                  </Card.Text>\n                </Card.Body>\n              </Link>\n              <Button\n                variant=\"success\"\n                onClick={() => {\n                  handleAddToCartClick({\n                    id: product.dealID,\n                    image: product.thumb,\n                    name: product.title,\n                    price: product.salePrice,\n                    retailPrice: product.retailPrice,\n                  });\n                }}\n              >\n                Adaugă în coș\n              </Button>\n            </Card>\n          );\n        })}\n      </div>\n      <Link to=\"/products\">Vezi toate produsele</Link>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}