{"ast":null,"code":"export const initialState = {\n  products: []\n};\nexport function cartReducer(state, action) {\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      {\n        const previousProducts = state.products;\n        const newProduct = action.payload;\n        const foundProduct = previousProducts.find(product => {\n          return product.id === newProduct.id;\n        });\n        if (!foundProduct) {\n          newProduct.quantity = 1;\n          const newState = {\n            products: [...previousProducts, newProduct]\n          };\n          return newState;\n        } else {\n          const updatedProducts = previousProducts.map(product => {\n            if (product.id === newProduct.id) {\n              return {\n                ...product,\n                quantity: product.quantity + 1\n              };\n            }\n            return product;\n          });\n          const newState = {\n            products: [...updatedProducts]\n          };\n        }\n        return newState;\n      }\n    case \"REMOVE_FROM_CART\":\n      {\n        const newState = {\n          products: []\n        };\n        return state;\n      }\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["initialState","products","cartReducer","state","action","type","previousProducts","newProduct","payload","foundProduct","find","product","id","quantity","newState","updatedProducts","map"],"sources":["C:/Users/fifin/Desktop/Curs IT School/sesiunea 33/app/src/store/Cart/reducer.js"],"sourcesContent":["export const initialState = {\r\n  products: [],\r\n};\r\n\r\nexport function cartReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\": {\r\n      const previousProducts = state.products;\r\n      const newProduct = action.payload;\r\n\r\n      const foundProduct = previousProducts.find((product) => {\r\n        return product.id === newProduct.id;\r\n      });\r\n\r\n      if (!foundProduct) {\r\n        newProduct.quantity = 1;\r\n\r\n        const newState = {\r\n          products: [...previousProducts, newProduct],\r\n        };\r\n\r\n        return newState;\r\n      } else {\r\n        const updatedProducts = previousProducts.map((product) => {\r\n          if (product.id === newProduct.id) {\r\n            return {\r\n              ...product,\r\n              quantity: product.quantity + 1,\r\n            };\r\n          }\r\n          return product;\r\n        });\r\n\r\n        const newState = {\r\n          products: [...updatedProducts],\r\n        };\r\n      }\r\n\r\n      return newState;\r\n    }\r\n    case \"REMOVE_FROM_CART\": {\r\n      const newState = { products: [] };\r\n      return state;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;EAC1BC,QAAQ,EAAE;AACZ,CAAC;AAED,OAAO,SAASC,WAAW,CAACC,KAAK,EAAEC,MAAM,EAAE;EACzC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAAE;QAClB,MAAMC,gBAAgB,GAAGH,KAAK,CAACF,QAAQ;QACvC,MAAMM,UAAU,GAAGH,MAAM,CAACI,OAAO;QAEjC,MAAMC,YAAY,GAAGH,gBAAgB,CAACI,IAAI,CAAEC,OAAO,IAAK;UACtD,OAAOA,OAAO,CAACC,EAAE,KAAKL,UAAU,CAACK,EAAE;QACrC,CAAC,CAAC;QAEF,IAAI,CAACH,YAAY,EAAE;UACjBF,UAAU,CAACM,QAAQ,GAAG,CAAC;UAEvB,MAAMC,QAAQ,GAAG;YACfb,QAAQ,EAAE,CAAC,GAAGK,gBAAgB,EAAEC,UAAU;UAC5C,CAAC;UAED,OAAOO,QAAQ;QACjB,CAAC,MAAM;UACL,MAAMC,eAAe,GAAGT,gBAAgB,CAACU,GAAG,CAAEL,OAAO,IAAK;YACxD,IAAIA,OAAO,CAACC,EAAE,KAAKL,UAAU,CAACK,EAAE,EAAE;cAChC,OAAO;gBACL,GAAGD,OAAO;gBACVE,QAAQ,EAAEF,OAAO,CAACE,QAAQ,GAAG;cAC/B,CAAC;YACH;YACA,OAAOF,OAAO;UAChB,CAAC,CAAC;UAEF,MAAMG,QAAQ,GAAG;YACfb,QAAQ,EAAE,CAAC,GAAGc,eAAe;UAC/B,CAAC;QACH;QAEA,OAAOD,QAAQ;MACjB;IACA,KAAK,kBAAkB;MAAE;QACvB,MAAMA,QAAQ,GAAG;UAAEb,QAAQ,EAAE;QAAG,CAAC;QACjC,OAAOE,KAAK;MACd;IAEA;MACE,OAAOA,KAAK;EAAC;AAEnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}