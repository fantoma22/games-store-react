{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fifin\\\\Desktop\\\\Curs IT School\\\\sesiunea 33\\\\app\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport { Link } from \"react-router-dom\";\nimport { CartContext } from \"../store/Cart/context\";\nimport { addToCart } from \"../store/Cart/actions\";\nimport { ThemeContext } from \"../store/Theme/context\";\nimport { setLightTheme } from \"../store/Theme/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Home() {\n  _s();\n  // Cerem 4 produse de la API si actualizam state-ul.\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    fetch(\"https://www.cheapshark.com/api/1.0/deals?onSale&pageSize=4\").then(response => response.json()).then(products => {\n      // console.log(\"Produsele: \", products);\n\n      setProducts(products);\n    });\n  }, []);\n  const {\n    cartDispatch\n  } = useContext(CartContext);\n  const {\n    themeState,\n    themeDispatch\n  } = useContext(ThemeContext);\n  function handleAddToCartClick(product) {\n    const actionResult = addToCart(product);\n    cartDispatch(actionResult);\n  }\n  function handleThemeChange() {\n    let actionResult;\n    if (themeState.theme === \"light\") {\n      actionResult = setDarkTheme();\n    } else {\n      actionResult = setLightTheme();\n    }\n    themeDispatch(actionResult);\n  }\n\n  // Afisam pe ecran produsele venite de la API.\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: themeState.theme === \"light\" ? \"bg-white\" : \"bg-black\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-column align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-primary\",\n        className: \"mt-3\",\n        onClick: handleThemeChange,\n        children: \"Change theme\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), products.map(product => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: \"18rem\"\n          },\n          className: \"m-3\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/product/${encodeURI(product.dealID)}`,\n            className: \"text-dark\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              variant: \"top\",\n              src: product.thumb\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: product.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                className: \"text-danger\",\n                children: [product.salePrice, \" $\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: () => {\n              handleAddToCartClick({\n                id: product.dealID,\n                image: product.thumb,\n                name: product.title,\n                price: product.salePrice,\n                retailPrice: product.retailPrice\n              });\n            },\n            children: \"Adaug\\u0103 \\xEEn co\\u0219\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, product.dealID, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/products\",\n      children: \"Vezi toate produsele\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"jdJCAOaqme1SPAn64ekE6hxRVS8=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","useContext","Card","Button","Link","CartContext","addToCart","ThemeContext","setLightTheme","Home","products","setProducts","fetch","then","response","json","cartDispatch","themeState","themeDispatch","handleAddToCartClick","product","actionResult","handleThemeChange","theme","setDarkTheme","map","width","encodeURI","dealID","thumb","title","salePrice","id","image","name","price","retailPrice"],"sources":["C:/Users/fifin/Desktop/Curs IT School/sesiunea 33/app/src/pages/Home.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport { Link } from \"react-router-dom\";\nimport { CartContext } from \"../store/Cart/context\";\nimport { addToCart } from \"../store/Cart/actions\";\nimport { ThemeContext } from \"../store/Theme/context\";\nimport { setLightTheme } from \"../store/Theme/actions\";\n\nexport function Home() {\n  // Cerem 4 produse de la API si actualizam state-ul.\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    fetch(\"https://www.cheapshark.com/api/1.0/deals?onSale&pageSize=4\")\n      .then((response) => response.json())\n      .then((products) => {\n        // console.log(\"Produsele: \", products);\n\n        setProducts(products);\n      });\n  }, []);\n\n  const { cartDispatch } = useContext(CartContext);\n\n  const { themeState, themeDispatch } = useContext(ThemeContext);\n\n  function handleAddToCartClick(product) {\n    const actionResult = addToCart(product);\n\n    cartDispatch(actionResult);\n  }\n\n  function handleThemeChange() {\n    let actionResult;\n    if (themeState.theme === \"light\") {\n      actionResult = setDarkTheme();\n    } else {\n      actionResult = setLightTheme();\n    }\n    themeDispatch(actionResult);\n  }\n\n  // Afisam pe ecran produsele venite de la API.\n  return (\n    <div className={themeState.theme === \"light\" ? \"bg-white\" : \"bg-black\"}>\n      <div className=\"d-flex flex-column align-items-center\">\n        <Button\n          variant=\"outline-primary\"\n          className=\"mt-3\"\n          onClick={handleThemeChange}\n        >\n          Change theme\n        </Button>\n        {products.map((product) => {\n          return (\n            <Card\n              key={product.dealID}\n              style={{ width: \"18rem\" }}\n              className=\"m-3\"\n            >\n              {/* Fiecare card are link-ul corespunzator catre pagina de produs. */}\n              {/* Functia encodeURI transforma caracterele care nu sunt acceptate in url. */}\n              <Link\n                to={`/product/${encodeURI(product.dealID)}`}\n                className=\"text-dark\"\n              >\n                <Card.Img variant=\"top\" src={product.thumb} />\n                <Card.Body>\n                  <Card.Title>{product.title}</Card.Title>\n                  <Card.Text className=\"text-danger\">\n                    {product.salePrice} $\n                  </Card.Text>\n                </Card.Body>\n              </Link>\n              <Button\n                variant=\"success\"\n                onClick={() => {\n                  handleAddToCartClick({\n                    id: product.dealID,\n                    image: product.thumb,\n                    name: product.title,\n                    price: product.salePrice,\n                    retailPrice: product.retailPrice,\n                  });\n                }}\n              >\n                Adaugă în coș\n              </Button>\n            </Card>\n          );\n        })}\n      </div>\n      <Link to=\"/products\">Vezi toate produsele</Link>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}